lession-03 Notes
===============

FACTS:
=====

What is going on at this time regarding configuration details are fetched from facts module.

==========
[root@ansibletower Ansible-tower]# ansible all --list-hosts
  hosts (3):
    192.168.56.202
    192.168.56.203
    192.168.56.201

Now i am telling ansible to the first computer get  all the facts
# ansible 192.168.56.202 -m setup 

ansible_architecture
ansible_all_ipv4_addresses
ansible_default_ipv4
ansible_devices
ansible_distribution
ansible_distribution_version
ansible_memory_mb
ansible_memfree_mb
ansible_machine
ansible_memtotal_mb
ansible_nodename
ansible_os_family
ansible_processor_count
ansible_nodename
ansible_swapfree_mb
ansible_swaptotal_mb


When we  run the above command with setup module , which  will fetch  all the configuratoin information

Techniclly its know as facts and the module nme is "setup"

the setup module display is in JSON format.

The above mentioned are keys in dictonary as a key:value format , we can use this key:value in ansible playbook in 
blocks .

The above mentioned key:value is stored below one block this block is like a variable

We can fetch particular balock of value to display for that we can use

ansible 192.168.56.201 -m setup -a "filter=ansible_distribution"

ansible 192.168.56.201 -m setup -a "filter=ansible_*_mb"

ansible 192.168.56.201 -m setup -a "filter=*family*"

ansible 192.168.56.201 -m setup -a "filter=ansible_memtotal_mb"

ansible 192.168.56.201 -m setup -a "filter=*free*"

How we can  use this inbuild varaiable  in playbooks  , 

- name:  using default inbuild variables
  hosts: all
  tasks:
  - name: using  debug module
    debug:  
      var: filter=ansible_distribution



variables:
=========
we can define variables in playbook or we can define in varfiles or we can use  the variable while running the playbook like the below by using --extra-vars options


# ansible-playbook condition-06.yaml --extra-vars "dosetup=true"

# ansible-playbook condition-06.yaml --extra-vars '{"dosetup=true"}'






























